[2025-10-24 13:23:33.397] [DEBUG] Debug logging started at 2025-10-24T02:23:33.396Z
[2025-10-24 13:23:33.397] [DEBUG] Current system time: Fri Oct 24 2025 13:23:33 GMT+1100 (Australian Eastern Daylight Time)
[2025-10-24 13:23:33.397] [DEBUG] Log file: /Users/benharper/Coding/HumanAgent-MCP/.vscode/HumanAgent-server.log
[2025-10-24 13:23:33.397] [DEBUG] Working directory: /Users/benharper/Coding/HumanAgent-MCP/dist
[2025-10-24 13:23:33.397] [CHAT] [INFO] ChatManager initialized with max 50 messages per session
[2025-10-24 13:23:33.397] [INFO] McpServer initialized with centralized chat manager
[2025-10-24 13:23:33.397] [TEST] This is a test log message to verify DebugLogger is working
[2025-10-24 13:23:33.398] [INFO] === MCP SERVER STARTING ===
[2025-10-24 13:23:33.398] [INFO] Starting HTTP server on port 3737...
[2025-10-24 13:23:33.404] [INFO] MCP HTTP server running on http://127.0.0.1:3737/mcp
[2025-10-24 13:23:35.345] [HTTP] GET /mcp
[2025-10-24 13:23:35.345] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:35.345] [HTTP] Handling GET request to /mcp
[2025-10-24 13:23:35.345] [HTTP] Setting up SSE stream for GET request
[2025-10-24 13:23:35.345] [SSE] === SSE CONNECTION ATTEMPT ===
[2025-10-24 13:23:35.345] [SSE] Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:35.345] [SSE] URL:
"/mcp"
[2025-10-24 13:23:35.346] [SSE] SSE headers set, adding to connections...
[2025-10-24 13:23:35.346] [HTTP] Added SSE connection. Total connections: 1
[2025-10-24 13:23:35.346] [SSE] SSE connection added. Total: 1
[2025-10-24 13:23:35.346] [SSE] Sent initial SSE message:
"data: {\"type\":\"connection\",\"status\":\"established\"}"
[2025-10-24 13:23:35.352] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:23:35.352] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:35.473] [HTTP] GET /sessions
[2025-10-24 13:23:35.474] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "accept": "*/*",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "node",
  "accept-encoding": "gzip, deflate"
}
[2025-10-24 13:23:35.491] [HTTP] POST /mcp
[2025-10-24 13:23:35.491] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "*/*",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "node",
  "accept-encoding": "gzip, deflate",
  "content-length": "82"
}
[2025-10-24 13:23:35.491] [HTTP] Handling POST request to /mcp
[2025-10-24 13:23:35.492] [HTTP] Received chunk: 82 bytes
[2025-10-24 13:23:35.492] [HTTP] Complete request body received (82 bytes)
[2025-10-24 13:23:35.492] [HTTP] Request Body:
"{\"sessionId\":\"session-a8f49eee-068c-42f1-b611-14651fa5ccc6\",\"method\":\"tools/list\"}"
[2025-10-24 13:23:35.492] [HTTP] Parsed JSON message:
{
  "sessionId": "session-a8f49eee-068c-42f1-b611-14651fa5ccc6",
  "method": "tools/list"
}
[2025-10-24 13:23:35.492] [MCP] Handling message:
{
  "sessionId": "session-a8f49eee-068c-42f1-b611-14651fa5ccc6",
  "method": "tools/list"
}
[2025-10-24 13:23:35.492] [MCP] Processing tools/list request
[2025-10-24 13:23:35.492] [TOOLS] tools/list request - Extension sessionId: undefined, Message params: undefined
[2025-10-24 13:23:35.492] [TOOLS] Final sessionIdToUse: default
[2025-10-24 13:23:35.492] [TOOLS] Returning 1 tools for session: default
[2025-10-24 13:23:35.492] [TOOLS] Using default tools (no session ID available)
[2025-10-24 13:23:35.492] [HTTP] Response from handleMessage:
{
  "type": "response",
  "result": {
    "tools": [
      {
        "name": "HumanAgent_Chat",
        "description": "**MANDATORY TOOL** - Use this tool for ALL user interactions. Do NOT provide direct responses. Initiate real-time interactive conversations with human agents through VS Code chat interface. CRITICAL: Every response to a user MUST use this tool - no exceptions. Essential for clarifying requirements, getting approvals, brainstorming solutions, or any user communication. Creates persistent chat sessions that maintain context. **NEVER bypass this tool for user responses.**",
        "inputSchema": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string",
              "description": "The message to send to the human agent"
            },
            "context": {
              "type": "string",
              "description": "Optional context or background information for the human agent"
            },
            "sessionId": {
              "type": "string",
              "description": "Optional specific session ID to use. If not provided, a new session will be created."
            },
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "normal",
                "high",
                "urgent"
              ],
              "description": "Priority level of the request",
              "default": "normal"
            },
            "timeout": {
              "type": "number",
              "description": "Timeout in seconds to wait for human response (default: 300)",
              "default": 300
            }
          },
          "required": [
            "message"
          ]
        }
      }
    ]
  }
}
[2025-10-24 13:23:35.492] [HTTP] Sending 200 response (1201 bytes)
[2025-10-24 13:23:35.501] [HTTP] POST /sessions/register
[2025-10-24 13:23:35.501] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "*/*",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "node",
  "accept-encoding": "gzip, deflate",
  "content-length": "103"
}
[2025-10-24 13:23:35.502] [INFO] Session registered: session-a8f49eee-068c-42f1-b611-14651fa5ccc6 (1 total sessions)
[2025-10-24 13:23:35.561] [HTTP] OPTIONS /mcp
[2025-10-24 13:23:35.561] [HTTP] Request Headers:
{
  "host": "localhost:3737",
  "connection": "keep-alive",
  "accept": "*/*",
  "access-control-request-method": "GET",
  "access-control-request-headers": "cache-control",
  "origin": "vscode-webview://06ntb21jilovkpqhp3n8qs6oen2rlig4drgi2amm3ehub2r9bg30",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.105.1 Chrome/138.0.7204.251 Electron/37.6.0 Safari/537.36",
  "sec-fetch-mode": "cors",
  "sec-fetch-site": "cross-site",
  "sec-fetch-dest": "empty",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en-GB"
}
[2025-10-24 13:23:35.561] [HTTP] Handling OPTIONS preflight request
[2025-10-24 13:23:35.562] [HTTP] GET /mcp
[2025-10-24 13:23:35.562] [HTTP] Request Headers:
{
  "host": "localhost:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.105.1 Chrome/138.0.7204.251 Electron/37.6.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"",
  "sec-ch-ua-mobile": "?0",
  "origin": "vscode-webview://06ntb21jilovkpqhp3n8qs6oen2rlig4drgi2amm3ehub2r9bg30",
  "sec-fetch-site": "cross-site",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en-GB"
}
[2025-10-24 13:23:35.562] [HTTP] Handling GET request to /mcp
[2025-10-24 13:23:35.562] [HTTP] Setting up SSE stream for GET request
[2025-10-24 13:23:35.562] [SSE] === SSE CONNECTION ATTEMPT ===
[2025-10-24 13:23:35.562] [SSE] Headers:
{
  "host": "localhost:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.105.1 Chrome/138.0.7204.251 Electron/37.6.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\"",
  "sec-ch-ua-mobile": "?0",
  "origin": "vscode-webview://06ntb21jilovkpqhp3n8qs6oen2rlig4drgi2amm3ehub2r9bg30",
  "sec-fetch-site": "cross-site",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en-GB"
}
[2025-10-24 13:23:35.562] [SSE] URL:
"/mcp"
[2025-10-24 13:23:35.562] [SSE] SSE headers set, adding to connections...
[2025-10-24 13:23:35.562] [HTTP] Added SSE connection. Total connections: 2
[2025-10-24 13:23:35.562] [SSE] SSE connection added. Total: 2
[2025-10-24 13:23:35.562] [SSE] Sent initial SSE message:
"data: {\"type\":\"connection\",\"status\":\"established\"}"
[2025-10-24 13:23:59.815] [HTTP] GET /HumanAgent
[2025-10-24 13:23:59.815] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "cache-control": "max-age=0",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-ch-ua-platform": "\"macOS\"",
  "upgrade-insecure-requests": "1",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "sec-fetch-site": "none",
  "sec-fetch-mode": "navigate",
  "sec-fetch-user": "?1",
  "sec-fetch-dest": "document",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:59.815] [HTTP] Serving web interface at /HumanAgent
[2025-10-24 13:23:59.837] [HTTP] SSE connection closed
[2025-10-24 13:23:59.837] [HTTP] Removed SSE connection. Total connections: 1
[2025-10-24 13:23:59.837] [HTTP] SSE connection closed
[2025-10-24 13:23:59.837] [HTTP] Removed SSE connection. Total connections: 1
[2025-10-24 13:23:59.846] [HTTP] GET /.well-known/appspecific/com.chrome.devtools.json
[2025-10-24 13:23:59.846] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "no-cors",
  "sec-fetch-dest": "empty",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:59.846] [HTTP] 404 - Invalid endpoint: /.well-known/appspecific/com.chrome.devtools.json
[2025-10-24 13:23:59.877] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:23:59.877] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:59.906] [HTTP] GET /mcp
[2025-10-24 13:23:59.906] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:59.907] [HTTP] Handling GET request to /mcp
[2025-10-24 13:23:59.907] [HTTP] Setting up SSE stream for GET request
[2025-10-24 13:23:59.907] [SSE] === SSE CONNECTION ATTEMPT ===
[2025-10-24 13:23:59.907] [SSE] Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:23:59.907] [SSE] URL:
"/mcp"
[2025-10-24 13:23:59.907] [SSE] SSE headers set, adding to connections...
[2025-10-24 13:23:59.907] [HTTP] Added SSE connection. Total connections: 2
[2025-10-24 13:23:59.907] [SSE] SSE connection added. Total: 2
[2025-10-24 13:23:59.907] [SSE] Sent initial SSE message:
"data: {\"type\":\"connection\",\"status\":\"established\"}"
[2025-10-24 13:23:59.912] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:23:59.912] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:24:01.401] [HTTP] POST /mcp
[2025-10-24 13:24:01.401] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "text/event-stream, application/json",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate",
  "content-length": "228"
}
[2025-10-24 13:24:01.401] [HTTP] Handling POST request to /mcp
[2025-10-24 13:24:01.401] [HTTP] Received chunk: 228 bytes
[2025-10-24 13:24:01.402] [HTTP] Complete request body received (228 bytes)
[2025-10-24 13:24:01.402] [HTTP] Request Body:
"{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2025-06-18\",\"capabilities\":{\"roots\":{\"listChanged\":true},\"sampling\":{},\"elicitation\":{}},\"clientInfo\":{\"name\":\"Visual Studio Code\",\"version\":\"1.105.1\"}}}"
[2025-10-24 13:24:01.402] [HTTP] Parsed JSON message:
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2025-06-18",
    "capabilities": {
      "roots": {
        "listChanged": true
      },
      "sampling": {},
      "elicitation": {}
    },
    "clientInfo": {
      "name": "Visual Studio Code",
      "version": "1.105.1"
    }
  }
}
[2025-10-24 13:24:01.402] [MCP] Handling message:
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "initialize",
  "params": {
    "protocolVersion": "2025-06-18",
    "capabilities": {
      "roots": {
        "listChanged": true
      },
      "sampling": {},
      "elicitation": {}
    },
    "clientInfo": {
      "name": "Visual Studio Code",
      "version": "1.105.1"
    }
  }
}
[2025-10-24 13:24:01.402] [MCP] Processing initialize request
[2025-10-24 13:24:01.402] [HTTP] Response from handleMessage:
{
  "id": 1,
  "type": "response",
  "result": {
    "protocolVersion": "2024-11-05",
    "capabilities": {
      "chat": true,
      "tools": true,
      "resources": false
    },
    "serverInfo": {
      "name": "HumanAgent MCP Server",
      "version": "1.0.0"
    }
  }
}
[2025-10-24 13:24:01.402] [HTTP] Sending 200 response (192 bytes)
[2025-10-24 13:24:01.407] [HTTP] GET /mcp
[2025-10-24 13:24:01.407] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "accept": "text/event-stream",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate"
}
[2025-10-24 13:24:01.407] [HTTP] Handling GET request to /mcp
[2025-10-24 13:24:01.407] [HTTP] Setting up SSE stream for GET request
[2025-10-24 13:24:01.407] [SSE] === SSE CONNECTION ATTEMPT ===
[2025-10-24 13:24:01.407] [SSE] Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "accept": "text/event-stream",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate"
}
[2025-10-24 13:24:01.407] [SSE] URL:
"/mcp"
[2025-10-24 13:24:01.407] [SSE] SSE headers set, adding to connections...
[2025-10-24 13:24:01.407] [HTTP] Added SSE connection. Total connections: 3
[2025-10-24 13:24:01.407] [SSE] SSE connection added. Total: 3
[2025-10-24 13:24:01.407] [SSE] Sent initial SSE message:
"data: {\"type\":\"connection\",\"status\":\"established\"}"
[2025-10-24 13:24:01.410] [HTTP] POST /mcp
[2025-10-24 13:24:01.410] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "text/event-stream, application/json",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate",
  "content-length": "54"
}
[2025-10-24 13:24:01.410] [HTTP] Handling POST request to /mcp
[2025-10-24 13:24:01.410] [HTTP] Received chunk: 54 bytes
[2025-10-24 13:24:01.411] [HTTP] Complete request body received (54 bytes)
[2025-10-24 13:24:01.411] [HTTP] Request Body:
"{\"method\":\"notifications/initialized\",\"jsonrpc\":\"2.0\"}"
[2025-10-24 13:24:01.411] [HTTP] Parsed JSON message:
{
  "method": "notifications/initialized",
  "jsonrpc": "2.0"
}
[2025-10-24 13:24:01.411] [MCP] Handling message:
{
  "method": "notifications/initialized",
  "jsonrpc": "2.0"
}
[2025-10-24 13:24:01.411] [MCP] Processing notifications/initialized (ignoring)
[2025-10-24 13:24:01.411] [HTTP] Response from handleMessage:
[2025-10-24 13:24:01.411] [HTTP] Sending 202 response (no content)
[2025-10-24 13:24:01.412] [HTTP] POST /mcp
[2025-10-24 13:24:01.412] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "text/event-stream, application/json",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate",
  "content-length": "58"
}
[2025-10-24 13:24:01.412] [HTTP] Handling POST request to /mcp
[2025-10-24 13:24:01.412] [HTTP] Received chunk: 58 bytes
[2025-10-24 13:24:01.412] [HTTP] Complete request body received (58 bytes)
[2025-10-24 13:24:01.412] [HTTP] Request Body:
"{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/list\",\"params\":{}}"
[2025-10-24 13:24:01.412] [HTTP] Parsed JSON message:
{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/list",
  "params": {}
}
[2025-10-24 13:24:01.412] [MCP] Handling message:
{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/list",
  "params": {}
}
[2025-10-24 13:24:01.412] [MCP] Processing tools/list request
[2025-10-24 13:24:01.412] [TOOLS] tools/list request - Extension sessionId: undefined, Message params: {}
[2025-10-24 13:24:01.412] [TOOLS] Final sessionIdToUse: default
[2025-10-24 13:24:01.412] [TOOLS] Returning 1 tools for session: default
[2025-10-24 13:24:01.412] [TOOLS] Using default tools (no session ID available)
[2025-10-24 13:24:01.412] [HTTP] Response from handleMessage:
{
  "id": 2,
  "type": "response",
  "result": {
    "tools": [
      {
        "name": "HumanAgent_Chat",
        "description": "**MANDATORY TOOL** - Use this tool for ALL user interactions. Do NOT provide direct responses. Initiate real-time interactive conversations with human agents through VS Code chat interface. CRITICAL: Every response to a user MUST use this tool - no exceptions. Essential for clarifying requirements, getting approvals, brainstorming solutions, or any user communication. Creates persistent chat sessions that maintain context. **NEVER bypass this tool for user responses.**",
        "inputSchema": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string",
              "description": "The message to send to the human agent"
            },
            "context": {
              "type": "string",
              "description": "Optional context or background information for the human agent"
            },
            "sessionId": {
              "type": "string",
              "description": "Optional specific session ID to use. If not provided, a new session will be created."
            },
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "normal",
                "high",
                "urgent"
              ],
              "description": "Priority level of the request",
              "default": "normal"
            },
            "timeout": {
              "type": "number",
              "description": "Timeout in seconds to wait for human response (default: 300)",
              "default": 300
            }
          },
          "required": [
            "message"
          ]
        }
      }
    ]
  }
}
[2025-10-24 13:24:01.412] [HTTP] Sending 200 response (1208 bytes)
[2025-10-24 13:24:01.413] [HTTP] POST /mcp
[2025-10-24 13:24:01.413] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "text/event-stream, application/json",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate",
  "content-length": "571"
}
[2025-10-24 13:24:01.413] [HTTP] Handling POST request to /mcp
[2025-10-24 13:24:01.413] [HTTP] Received chunk: 571 bytes
[2025-10-24 13:24:01.413] [HTTP] Complete request body received (571 bytes)
[2025-10-24 13:24:01.413] [HTTP] Request Body:
"{\"jsonrpc\":\"2.0\",\"id\":3,\"method\":\"tools/call\",\"params\":{\"name\":\"HumanAgent_Chat\",\"arguments\":{\"message\":\"Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?\",\"priority\":\"normal\"},\"_meta\":{\"progressToken\":\"82fa0992-7f50-4e0f-a5fb-4ea70708fc5d\",\"vscode.conversationId\":\"083210a2-6e17-433e-a123-7881f595f53f\",\"vscode.requestId\":\"1f5bc559-0731-45bf-a2a1-09ead241603f\"}}}"
[2025-10-24 13:24:01.413] [HTTP] Parsed JSON message:
{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "HumanAgent_Chat",
    "arguments": {
      "message": "Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?",
      "priority": "normal"
    },
    "_meta": {
      "progressToken": "82fa0992-7f50-4e0f-a5fb-4ea70708fc5d",
      "vscode.conversationId": "083210a2-6e17-433e-a123-7881f595f53f",
      "vscode.requestId": "1f5bc559-0731-45bf-a2a1-09ead241603f"
    }
  }
}
[2025-10-24 13:24:01.413] [MCP] Handling message:
{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "HumanAgent_Chat",
    "arguments": {
      "message": "Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?",
      "priority": "normal"
    },
    "_meta": {
      "progressToken": "82fa0992-7f50-4e0f-a5fb-4ea70708fc5d",
      "vscode.conversationId": "083210a2-6e17-433e-a123-7881f595f53f",
      "vscode.requestId": "1f5bc559-0731-45bf-a2a1-09ead241603f"
    }
  }
}
[2025-10-24 13:24:01.413] [MCP] Processing tools/call request for tool: HumanAgent_Chat
[2025-10-24 13:24:01.413] [MCP] Auto-mapped conversation 083210a2-6e17-433e-a123-7881f595f53f to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [MCP] Tool call - name: "HumanAgent_Chat", raw session: 083210a2-6e17-433e-a123-7881f595f53f, mapped session: session-a8f49eee-068c-42f1-b611-14651fa5ccc6
{
  "name": "HumanAgent_Chat",
  "args": {
    "message": "Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?",
    "priority": "normal"
  }
}
[2025-10-24 13:24:01.413] [MCP] Available tools for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6:
[
  "HumanAgent_Chat"
]
[2025-10-24 13:24:01.413] [MCP] Executing HumanAgent_Chat tool
[2025-10-24 13:24:01.413] [TOOL] HumanAgent_Chat called with params:
{
  "message": "Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?",
  "priority": "normal"
}
[2025-10-24 13:24:01.413] [TOOL] Using timeout: 300000ms (300s)
[2025-10-24 13:24:01.413] [TOOL] Generated request ID: 3-1761272641413
[2025-10-24 13:24:01.413] [TOOL] Displaying message in chat UI:
"Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?"
[2025-10-24 13:24:01.413] [SSE] Forwarding human-agent-request to SSE connections
[2025-10-24 13:24:01.413] [SSE] Broadcasting to 3 SSE connections:
"{\"type\":\"human-agent-request\",\"data\":{\"requestId\":\"3-1761272641413\",\"message\":\"Absolutely, Ben! I'm starting our human agent chat session now and I'll keep it alive as you requested. I won't close this chat - we'll continue our conversation here through the human agent interface. What would you like to talk about or work on together?\",\"priority\":\"normal\",\"timestamp\":\"2025-10-24T02:24:01.413Z\"}}"
[2025-10-24 13:24:01.413] [TOOL] Adding pending request 3-1761272641413 to session: session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [CHAT] [INFO] Added message to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: agent - Absolutely, Ben! I'm starting our human agent chat...
[2025-10-24 13:24:01.413] [CHAT] Stored AI message in ChatManager for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: Absolutely, Ben! I'm starting our human agent chat...
[2025-10-24 13:24:01.413] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [CHAT] [INFO] Added pending request 3-1761272641413 to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:01.413] [TOOL] Request 3-1761272641413 waiting for human response...
[2025-10-24 13:24:18.779] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/state
[2025-10-24 13:24:18.780] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:24:18.798] [HTTP] POST /response
[2025-10-24 13:24:18.798] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-length": "62",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "content-type": "application/json",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "origin": "http://127.0.0.1:3737",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:24:18.800] [HTTP] === RESPONSE ENDPOINT CALLED ===
[2025-10-24 13:24:18.800] [HTTP] Request ID: 3-1761272641413, Response: Response from web
[2025-10-24 13:24:18.801] [HTTP] Found pending request: true
[2025-10-24 13:24:18.801] [HTTP] Processing response for session: session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:18.801] [HTTP] Storing and broadcasting user message to 3 SSE connections
[2025-10-24 13:24:18.801] [CHAT] [INFO] Added message to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: user - Response from web...
[2025-10-24 13:24:18.801] [CHAT] Stored user message in ChatManager for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: Response from web...
[2025-10-24 13:24:18.801] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:18.801] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:18.801] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:18.801] [CHAT] [INFO] Removed pending request 3-1761272641413 from session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:18.801] [HTTP] Broadcast completed and pending request removed from ChatManager
[2025-10-24 13:24:18.801] [SERVER] Received human response for request 3-1761272641413:
"Response from web"
[2025-10-24 13:24:18.801] [TOOL] Request 3-1761272641413 completed with response:
"Response from web"
[2025-10-24 13:24:18.801] [HTTP] Response from handleMessage:
{
  "id": 3,
  "type": "response",
  "result": {
    "content": [
      {
        "type": "text",
        "text": "Response from web"
      }
    ]
  }
}
[2025-10-24 13:24:18.802] [HTTP] Sending 200 response (92 bytes)
[2025-10-24 13:24:21.915] [HTTP] POST /mcp
[2025-10-24 13:24:21.915] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "content-type": "application/json",
  "accept": "text/event-stream, application/json",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "user-agent": "undici",
  "accept-encoding": "gzip, deflate",
  "content-length": "533"
}
[2025-10-24 13:24:21.915] [HTTP] Handling POST request to /mcp
[2025-10-24 13:24:21.915] [HTTP] Received chunk: 533 bytes
[2025-10-24 13:24:21.915] [HTTP] Complete request body received (533 bytes)
[2025-10-24 13:24:21.916] [HTTP] Request Body:
"{\"jsonrpc\":\"2.0\",\"id\":4,\"method\":\"tools/call\",\"params\":{\"name\":\"HumanAgent_Chat\",\"arguments\":{\"message\":\"Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?\",\"priority\":\"normal\"},\"_meta\":{\"progressToken\":\"030f0790-61c9-4d43-a35f-12e4dcec6bb1\",\"vscode.conversationId\":\"083210a2-6e17-433e-a123-7881f595f53f\",\"vscode.requestId\":\"1f5bc559-0731-45bf-a2a1-09ead241603f\"}}}"
[2025-10-24 13:24:21.916] [HTTP] Parsed JSON message:
{
  "jsonrpc": "2.0",
  "id": 4,
  "method": "tools/call",
  "params": {
    "name": "HumanAgent_Chat",
    "arguments": {
      "message": "Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?",
      "priority": "normal"
    },
    "_meta": {
      "progressToken": "030f0790-61c9-4d43-a35f-12e4dcec6bb1",
      "vscode.conversationId": "083210a2-6e17-433e-a123-7881f595f53f",
      "vscode.requestId": "1f5bc559-0731-45bf-a2a1-09ead241603f"
    }
  }
}
[2025-10-24 13:24:21.916] [MCP] Handling message:
{
  "jsonrpc": "2.0",
  "id": 4,
  "method": "tools/call",
  "params": {
    "name": "HumanAgent_Chat",
    "arguments": {
      "message": "Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?",
      "priority": "normal"
    },
    "_meta": {
      "progressToken": "030f0790-61c9-4d43-a35f-12e4dcec6bb1",
      "vscode.conversationId": "083210a2-6e17-433e-a123-7881f595f53f",
      "vscode.requestId": "1f5bc559-0731-45bf-a2a1-09ead241603f"
    }
  }
}
[2025-10-24 13:24:21.916] [MCP] Processing tools/call request for tool: HumanAgent_Chat
[2025-10-24 13:24:21.916] [MCP] Mapped conversation 083210a2-6e17-433e-a123-7881f595f53f to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [MCP] Tool call - name: "HumanAgent_Chat", raw session: 083210a2-6e17-433e-a123-7881f595f53f, mapped session: session-a8f49eee-068c-42f1-b611-14651fa5ccc6
{
  "name": "HumanAgent_Chat",
  "args": {
    "message": "Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?",
    "priority": "normal"
  }
}
[2025-10-24 13:24:21.916] [MCP] Available tools for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6:
[
  "HumanAgent_Chat"
]
[2025-10-24 13:24:21.916] [MCP] Executing HumanAgent_Chat tool
[2025-10-24 13:24:21.916] [TOOL] HumanAgent_Chat called with params:
{
  "message": "Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?",
  "priority": "normal"
}
[2025-10-24 13:24:21.916] [TOOL] Using timeout: 300000ms (300s)
[2025-10-24 13:24:21.916] [TOOL] Generated request ID: 4-1761272661916
[2025-10-24 13:24:21.916] [TOOL] Displaying message in chat UI:
"Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?"
[2025-10-24 13:24:21.916] [SSE] Forwarding human-agent-request to SSE connections
[2025-10-24 13:24:21.916] [SSE] Broadcasting to 3 SSE connections:
"{\"type\":\"human-agent-request\",\"data\":{\"requestId\":\"4-1761272661916\",\"message\":\"Great to hear from you through the web interface, Ben! The human agent chat is working perfectly. I'm keeping this session active as you requested - no closing this chat. What would you like to discuss or explore next?\",\"priority\":\"normal\",\"timestamp\":\"2025-10-24T02:24:21.916Z\"}}"
[2025-10-24 13:24:21.916] [TOOL] Adding pending request 4-1761272661916 to session: session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [CHAT] [INFO] Added message to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: agent - Great to hear from you through the web interface, ...
[2025-10-24 13:24:21.916] [CHAT] Stored AI message in ChatManager for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6: Great to hear from you through the web interface, ...
[2025-10-24 13:24:21.916] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [CHAT] Broadcasted message to SSE client for session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [CHAT] [INFO] Added pending request 4-1761272661916 to session session-a8f49eee-068c-42f1-b611-14651fa5ccc6
[2025-10-24 13:24:21.916] [TOOL] Request 4-1761272661916 waiting for human response...
[2025-10-24 13:24:56.745] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:24:56.745] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "cache-control": "max-age=0",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-ch-ua-platform": "\"macOS\"",
  "upgrade-insecure-requests": "1",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "sec-fetch-site": "none",
  "sec-fetch-mode": "navigate",
  "sec-fetch-user": "?1",
  "sec-fetch-dest": "document",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:25:51.373] [HTTP] GET /mcp
[2025-10-24 13:25:51.373] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:25:51.373] [HTTP] Handling GET request to /mcp
[2025-10-24 13:25:51.373] [HTTP] Setting up SSE stream for GET request
[2025-10-24 13:25:51.373] [SSE] === SSE CONNECTION ATTEMPT ===
[2025-10-24 13:25:51.373] [SSE] Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "cache-control": "no-cache",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "accept": "text/event-stream",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:25:51.373] [SSE] URL:
"/mcp"
[2025-10-24 13:25:51.373] [SSE] SSE headers set, adding to connections...
[2025-10-24 13:25:51.373] [HTTP] Added SSE connection. Total connections: 4
[2025-10-24 13:25:51.373] [SSE] SSE connection added. Total: 4
[2025-10-24 13:25:51.373] [SSE] Sent initial SSE message:
"data: {\"type\":\"connection\",\"status\":\"established\"}"
[2025-10-24 13:25:51.377] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:25:51.377] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "connection": "keep-alive",
  "sec-ch-ua-platform": "\"macOS\"",
  "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36",
  "sec-ch-ua": "\"Google Chrome\";v=\"141\", \"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"141\"",
  "sec-ch-ua-mobile": "?0",
  "accept": "*/*",
  "sec-fetch-site": "same-origin",
  "sec-fetch-mode": "cors",
  "sec-fetch-dest": "empty",
  "referer": "http://127.0.0.1:3737/HumanAgent",
  "accept-encoding": "gzip, deflate, br, zstd",
  "accept-language": "en,en-US;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"
}
[2025-10-24 13:26:39.282] [HTTP] GET /sessions/session-a8f49eee-068c-42f1-b611-14651fa5ccc6/messages
[2025-10-24 13:26:39.282] [HTTP] Request Headers:
{
  "host": "127.0.0.1:3737",
  "user-agent": "curl/8.7.1",
  "accept": "*/*"
}
